<!-- $Id: -->

<h2>ZMap Design Documentation</h2>

<br />

<fieldset>
<legend>Pages Under Construction</legend>
<p>The documentation pages are being re-organised and updated. </p>
<p>Some old files are held in ZMap/web and will be moved into ZMap/doc on a gradual basis.  The ZMap/Web directory will be maintained during this process as some build scripts depend on it and as the files are in the CVS it provides a backup.  Some other files that have been deleted from ZMap/doc have been move to ZMap/doc/old on ~mh17 until they get transferred to the new directory tree.
</p>
<p>As files get added or copied or converted they will hopefully get added to this index page, which is intended to be in alpha order. As the number of files increase then we'll add some nice &lt;div&gt;s to put them in pretty columns.
</p>
</fieldset>

<fieldset><legend>Index</legend>
<a href="Design_notes/misc/about.shtml">About these pages</a><br />
<br />
<a href="Design_notes/modules/zmapConfig.shtml">Configuration files</a><br />
Coordinate systems<br />
<a href="Design_notes/modules/zmapFeature.shtml">Featuresets</a><br />
<a href="Design_notes/notes/performance.shtml">Performance</a><br />
<a href="Design_notes/modules/pipeServer.shtml">pipeServer Configuration</a><br />
<a href="Design_notes/modules/zmapFeature.shtml">Styles</a> <a href="Design_notes/notes/glyph_style.shtml">and Glyphs</a><br>
<a href="Design_notes/modules/zmapView.shtml">All about Views</a><br />

</fieldset>

<fieldset><legend>Thought for food</legend>
<h3>Some things that need investigating and writing up.</h3>
<p><ul>
<li><p>X-Remote appears to talk to zmapControl, zmapView, and zmapWindow, so far. Who is in control?</p>
</ul>
</p>
<h3>Things that are slow</h3>
<p><ul>
<li>3-Frame takes a while to paint, likely due to having to do a lot of sums, but hiding it should simply be a matter of hiding the columns, after which a re-painting would also be quick.
</ul>
</p>

</fieldset>

<fieldset><legend>Unfinished Buisness</legend>
<p>
<ul>
<li>normal thread shutdown needs to be written up and debugged <i>as not previously implemented</i>. View connection data needs to be cleared up.
<li>pipeServer not to be asked for featuresets or styles to avoid log message
<li>zmapView.c/processDataRequests() needs to merge the source_2_featureset not just assign it
<li>delayed server needs to free view_con->context etc etc (memory leak)
<li>implement X-Remote progress message (source finished has been done, need more detail ie % complete.
<li>pipe server GFF gives 'cant find style log messages seqRequest() line 1072 <b>(this is a real error in the data)</b>
<li>sequence server is assumed to be ACEDB or some other server that is not delayed and there can be only one
<li>Styles have 3 fields that appear to be misplaced as they refer to column data: loaded, deferred, and cur_bump_mode. Most importantly <b>deferred styles</b> need to be looked at esp as commented around <b>zmapViewRemoteReceive.c #1242</b>
<li><a href="Design_notes/modules/zmapView.shtml#DNA_memory">Scope and memory allocation issues</a> with DNA sequence data
</ul>
</p>

</fieldset>
<fieldset><legend>Things to fix</legend>
<p>
Here's a list of suspicious bits of code encountered while looking for something else
<ul>
<li><b>In zmpWindowCanvasItem.c zMapWindowCanvasItemGetBounds()</b> looks like a cut &amp; paste of <b>zMapWindowCanvasItemGetFeature()</b>  directly above it including the explanatory comment. It's not called from anywhere.
</ul>
</p>
</fieldset>